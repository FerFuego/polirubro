{"version":3,"file":"lightbox.js","sources":["lightbox.js"],"sourcesContent":["/*!\n * Lightbox v2.8.2\n * by Lokesh Dhakar\n *\n * More info:\n * http://lokeshdhakar.com/projects/lightbox2/\n *\n * Copyright 2007, 2015 Lokesh Dhakar\n * Released under the MIT license\n * https://github.com/lokesh/lightbox2/blob/master/LICENSE\n */\n\n// Uses Node, AMD or browser globals to create a module.\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(['jquery'], factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('jquery'));\n    } else {\n        // Browser globals (root is window)\n        root.lightbox = factory(root.jQuery);\n    }\n}(this, function ($) {\n\n  function Lightbox(options) {\n    this.album = [];\n    this.currentImageIndex = void 0;\n    this.init();\n\n    // options\n    this.options = $.extend({}, this.constructor.defaults);\n    this.option(options);\n  }\n\n  // Descriptions of all options available on the demo site:\n  // http://lokeshdhakar.com/projects/lightbox2/index.html#options\n  Lightbox.defaults = {\n    albumLabel: 'Image %1 of %2',\n    alwaysShowNavOnTouchDevices: false,\n    fadeDuration: 500,\n    fitImagesInViewport: true,\n    // maxWidth: 800,\n    // maxHeight: 600,\n    positionFromTop: 50,\n    resizeDuration: 700,\n    showImageNumberLabel: true,\n    wrapAround: false,\n    disableScrolling: false\n  };\n\n  Lightbox.prototype.option = function(options) {\n    $.extend(this.options, options);\n  };\n\n  Lightbox.prototype.imageCountLabel = function(currentImageNum, totalImages) {\n    return this.options.albumLabel.replace(/%1/g, currentImageNum).replace(/%2/g, totalImages);\n  };\n\n  Lightbox.prototype.init = function() {\n    this.enable();\n    this.build();\n  };\n\n  // Loop through anchors and areamaps looking for either data-lightbox attributes or rel attributes\n  // that contain 'lightbox'. When these are clicked, start lightbox.\n  Lightbox.prototype.enable = function() {\n    var self = this;\n    $('body').on('click', 'a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]', function(event) {\n      self.start($(event.currentTarget));\n      return false;\n    });\n  };\n\n  // Build html for the lightbox and the overlay.\n  // Attach event handlers to the new DOM elements. click click click\n  Lightbox.prototype.build = function() {\n    var self = this;\n    $('<div id=\"lightboxOverlay\" class=\"lightboxOverlay\"></div><div id=\"lightbox\" class=\"lightbox\"><div class=\"lb-outerContainer\"><div class=\"lb-container\"><img class=\"lb-image\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\" /><div class=\"lb-nav\"><a class=\"lb-prev\" href=\"\" ></a><a class=\"lb-next\" href=\"\" ></a></div><div class=\"lb-loader\"><a class=\"lb-cancel\"></a></div></div></div><div class=\"lb-dataContainer\"><div class=\"lb-data\"><div class=\"lb-details\"><span class=\"lb-caption\"></span><span class=\"lb-number\"></span></div><div class=\"lb-closeContainer\"><a class=\"lb-close\"></a></div></div></div></div>').appendTo($('body'));\n\n    // Cache jQuery objects\n    this.$lightbox       = $('#lightbox');\n    this.$overlay        = $('#lightboxOverlay');\n    this.$outerContainer = this.$lightbox.find('.lb-outerContainer');\n    this.$container      = this.$lightbox.find('.lb-container');\n\n    // Store css values for future lookup\n    this.containerTopPadding = parseInt(this.$container.css('padding-top'), 10);\n    this.containerRightPadding = parseInt(this.$container.css('padding-right'), 10);\n    this.containerBottomPadding = parseInt(this.$container.css('padding-bottom'), 10);\n    this.containerLeftPadding = parseInt(this.$container.css('padding-left'), 10);\n\n    // Attach event handlers to the newly minted DOM elements\n    this.$overlay.hide().on('click', function() {\n      self.end();\n      return false;\n    });\n\n    this.$lightbox.hide().on('click', function(event) {\n      if ($(event.target).attr('id') === 'lightbox') {\n        self.end();\n      }\n      return false;\n    });\n\n    this.$outerContainer.on('click', function(event) {\n      if ($(event.target).attr('id') === 'lightbox') {\n        self.end();\n      }\n      return false;\n    });\n\n    this.$lightbox.find('.lb-prev').on('click', function() {\n      if (self.currentImageIndex === 0) {\n        self.changeImage(self.album.length - 1);\n      } else {\n        self.changeImage(self.currentImageIndex - 1);\n      }\n      return false;\n    });\n\n    this.$lightbox.find('.lb-next').on('click', function() {\n      if (self.currentImageIndex === self.album.length - 1) {\n        self.changeImage(0);\n      } else {\n        self.changeImage(self.currentImageIndex + 1);\n      }\n      return false;\n    });\n\n    this.$lightbox.find('.lb-loader, .lb-close').on('click', function() {\n      self.end();\n      return false;\n    });\n  };\n\n  // Show overlay and lightbox. If the image is part of a set, add siblings to album array.\n  Lightbox.prototype.start = function($link) {\n    var self    = this;\n    var $window = $(window);\n\n    $window.on('resize', $.proxy(this.sizeOverlay, this));\n\n    $('select, object, embed').css({\n      visibility: 'hidden'\n    });\n\n    this.sizeOverlay();\n\n    this.album = [];\n    var imageNumber = 0;\n\n    function addToAlbum($link) {\n      self.album.push({\n        link: $link.attr('href'),\n        title: $link.attr('data-title') || $link.attr('title')\n      });\n    }\n\n    // Support both data-lightbox attribute and rel attribute implementations\n    var dataLightboxValue = $link.attr('data-lightbox');\n    var $links;\n\n    if (dataLightboxValue) {\n      $links = $($link.prop('tagName') + '[data-lightbox=\"' + dataLightboxValue + '\"]');\n      for (var i = 0; i < $links.length; i = ++i) {\n        addToAlbum($($links[i]));\n        if ($links[i] === $link[0]) {\n          imageNumber = i;\n        }\n      }\n    } else {\n      if ($link.attr('rel') === 'lightbox') {\n        // If image is not part of a set\n        addToAlbum($link);\n      } else {\n        // If image is part of a set\n        $links = $($link.prop('tagName') + '[rel=\"' + $link.attr('rel') + '\"]');\n        for (var j = 0; j < $links.length; j = ++j) {\n          addToAlbum($($links[j]));\n          if ($links[j] === $link[0]) {\n            imageNumber = j;\n          }\n        }\n      }\n    }\n\n    // Position Lightbox\n    var top  = $window.scrollTop() + this.options.positionFromTop;\n    var left = $window.scrollLeft();\n    this.$lightbox.css({\n      top: top + 'px',\n      left: left + 'px'\n    }).fadeIn(this.options.fadeDuration);\n\n    // Disable scrolling of the page while open\n    if (this.options.disableScrolling) {\n      $('body').addClass('lb-disable-scrolling');\n    }\n\n    this.changeImage(imageNumber);\n  };\n\n  // Hide most UI elements in preparation for the animated resizing of the lightbox.\n  Lightbox.prototype.changeImage = function(imageNumber) {\n    var self = this;\n\n    this.disableKeyboardNav();\n    var $image = this.$lightbox.find('.lb-image');\n\n    this.$overlay.fadeIn(this.options.fadeDuration);\n\n    $('.lb-loader').fadeIn('slow');\n    this.$lightbox.find('.lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption').hide();\n\n    this.$outerContainer.addClass('animating');\n\n    // When image to show is preloaded, we send the width and height to sizeContainer()\n    var preloader = new Image();\n    preloader.onload = function() {\n      var $preloader;\n      var imageHeight;\n      var imageWidth;\n      var maxImageHeight;\n      var maxImageWidth;\n      var windowHeight;\n      var windowWidth;\n\n      $image.attr('src', self.album[imageNumber].link);\n\n      $preloader = $(preloader);\n\n      $image.width(preloader.width);\n      $image.height(preloader.height);\n\n      if (self.options.fitImagesInViewport) {\n        // Fit image inside the viewport.\n        // Take into account the border around the image and an additional 10px gutter on each side.\n\n        windowWidth    = $(window).width();\n        windowHeight   = $(window).height();\n        maxImageWidth  = windowWidth - self.containerLeftPadding - self.containerRightPadding - 20;\n        maxImageHeight = windowHeight - self.containerTopPadding - self.containerBottomPadding - 120;\n\n        // Check if image size is larger then maxWidth|maxHeight in settings\n        if (self.options.maxWidth && self.options.maxWidth < maxImageWidth) {\n          maxImageWidth = self.options.maxWidth;\n        }\n        if (self.options.maxHeight && self.options.maxHeight < maxImageWidth) {\n          maxImageHeight = self.options.maxHeight;\n        }\n\n        // Is there a fitting issue?\n        if ((preloader.width > maxImageWidth) || (preloader.height > maxImageHeight)) {\n          if ((preloader.width / maxImageWidth) > (preloader.height / maxImageHeight)) {\n            imageWidth  = maxImageWidth;\n            imageHeight = parseInt(preloader.height / (preloader.width / imageWidth), 10);\n            $image.width(imageWidth);\n            $image.height(imageHeight);\n          } else {\n            imageHeight = maxImageHeight;\n            imageWidth = parseInt(preloader.width / (preloader.height / imageHeight), 10);\n            $image.width(imageWidth);\n            $image.height(imageHeight);\n          }\n        }\n      }\n      self.sizeContainer($image.width(), $image.height());\n    };\n\n    preloader.src          = this.album[imageNumber].link;\n    this.currentImageIndex = imageNumber;\n  };\n\n  // Stretch overlay to fit the viewport\n  Lightbox.prototype.sizeOverlay = function() {\n    this.$overlay\n      .width($(document).width())\n      .height($(document).height());\n  };\n\n  // Animate the size of the lightbox to fit the image we are showing\n  Lightbox.prototype.sizeContainer = function(imageWidth, imageHeight) {\n    var self = this;\n\n    var oldWidth  = this.$outerContainer.outerWidth();\n    var oldHeight = this.$outerContainer.outerHeight();\n    var newWidth  = imageWidth + this.containerLeftPadding + this.containerRightPadding;\n    var newHeight = imageHeight + this.containerTopPadding + this.containerBottomPadding;\n\n    function postResize() {\n      self.$lightbox.find('.lb-dataContainer').width(newWidth);\n      self.$lightbox.find('.lb-prevLink').height(newHeight);\n      self.$lightbox.find('.lb-nextLink').height(newHeight);\n      self.showImage();\n    }\n\n    if (oldWidth !== newWidth || oldHeight !== newHeight) {\n      this.$outerContainer.animate({\n        width: newWidth,\n        height: newHeight\n      }, this.options.resizeDuration, 'swing', function() {\n        postResize();\n      });\n    } else {\n      postResize();\n    }\n  };\n\n  // Display the image and its details and begin preload neighboring images.\n  Lightbox.prototype.showImage = function() {\n    this.$lightbox.find('.lb-loader').stop(true).hide();\n    this.$lightbox.find('.lb-image').fadeIn('slow');\n\n    this.updateNav();\n    this.updateDetails();\n    this.preloadNeighboringImages();\n    this.enableKeyboardNav();\n  };\n\n  // Display previous and next navigation if appropriate.\n  Lightbox.prototype.updateNav = function() {\n    // Check to see if the browser supports touch events. If so, we take the conservative approach\n    // and assume that mouse hover events are not supported and always show prev/next navigation\n    // arrows in image sets.\n    var alwaysShowNav = false;\n    try {\n      document.createEvent('TouchEvent');\n      alwaysShowNav = (this.options.alwaysShowNavOnTouchDevices) ? true : false;\n    } catch (e) {}\n\n    this.$lightbox.find('.lb-nav').show();\n\n    if (this.album.length > 1) {\n      if (this.options.wrapAround) {\n        if (alwaysShowNav) {\n          this.$lightbox.find('.lb-prev, .lb-next').css('opacity', '1');\n        }\n        this.$lightbox.find('.lb-prev, .lb-next').show();\n      } else {\n        if (this.currentImageIndex > 0) {\n          this.$lightbox.find('.lb-prev').show();\n          if (alwaysShowNav) {\n            this.$lightbox.find('.lb-prev').css('opacity', '1');\n          }\n        }\n        if (this.currentImageIndex < this.album.length - 1) {\n          this.$lightbox.find('.lb-next').show();\n          if (alwaysShowNav) {\n            this.$lightbox.find('.lb-next').css('opacity', '1');\n          }\n        }\n      }\n    }\n  };\n\n  // Display caption, image number, and closing button.\n  Lightbox.prototype.updateDetails = function() {\n    var self = this;\n\n    // Enable anchor clicks in the injected caption html.\n    // Thanks Nate Wright for the fix. @https://github.com/NateWr\n    if (typeof this.album[this.currentImageIndex].title !== 'undefined' &&\n      this.album[this.currentImageIndex].title !== '') {\n      this.$lightbox.find('.lb-caption')\n        .html(this.album[this.currentImageIndex].title)\n        .fadeIn('fast')\n        .find('a').on('click', function(event) {\n          if ($(this).attr('target') !== undefined) {\n            window.open($(this).attr('href'), $(this).attr('target'));\n          } else {\n            location.href = $(this).attr('href');\n          }\n        });\n    }\n\n    if (this.album.length > 1 && this.options.showImageNumberLabel) {\n      var labelText = this.imageCountLabel(this.currentImageIndex + 1, this.album.length);\n      this.$lightbox.find('.lb-number').text(labelText).fadeIn('fast');\n    } else {\n      this.$lightbox.find('.lb-number').hide();\n    }\n\n    this.$outerContainer.removeClass('animating');\n\n    this.$lightbox.find('.lb-dataContainer').fadeIn(this.options.resizeDuration, function() {\n      return self.sizeOverlay();\n    });\n  };\n\n  // Preload previous and next images in set.\n  Lightbox.prototype.preloadNeighboringImages = function() {\n    if (this.album.length > this.currentImageIndex + 1) {\n      var preloadNext = new Image();\n      preloadNext.src = this.album[this.currentImageIndex + 1].link;\n    }\n    if (this.currentImageIndex > 0) {\n      var preloadPrev = new Image();\n      preloadPrev.src = this.album[this.currentImageIndex - 1].link;\n    }\n  };\n\n  Lightbox.prototype.enableKeyboardNav = function() {\n    $(document).on('keyup.keyboard', $.proxy(this.keyboardAction, this));\n  };\n\n  Lightbox.prototype.disableKeyboardNav = function() {\n    $(document).off('.keyboard');\n  };\n\n  Lightbox.prototype.keyboardAction = function(event) {\n    var KEYCODE_ESC        = 27;\n    var KEYCODE_LEFTARROW  = 37;\n    var KEYCODE_RIGHTARROW = 39;\n\n    var keycode = event.keyCode;\n    var key     = String.fromCharCode(keycode).toLowerCase();\n    if (keycode === KEYCODE_ESC || key.match(/x|o|c/)) {\n      this.end();\n    } else if (key === 'p' || keycode === KEYCODE_LEFTARROW) {\n      if (this.currentImageIndex !== 0) {\n        this.changeImage(this.currentImageIndex - 1);\n      } else if (this.options.wrapAround && this.album.length > 1) {\n        this.changeImage(this.album.length - 1);\n      }\n    } else if (key === 'n' || keycode === KEYCODE_RIGHTARROW) {\n      if (this.currentImageIndex !== this.album.length - 1) {\n        this.changeImage(this.currentImageIndex + 1);\n      } else if (this.options.wrapAround && this.album.length > 1) {\n        this.changeImage(0);\n      }\n    }\n  };\n\n  // Closing time. :-(\n  Lightbox.prototype.end = function() {\n    this.disableKeyboardNav();\n    $(window).off('resize', this.sizeOverlay);\n    this.$lightbox.fadeOut(this.options.fadeDuration);\n    this.$overlay.fadeOut(this.options.fadeDuration);\n    $('select, object, embed').css({\n      visibility: 'visible'\n    });\n    if (this.options.disableScrolling) {\n      $('body').removeClass('lb-disable-scrolling');\n    }\n  };\n\n  return new Lightbox();\n}));\n"],"names":["root","factory","define","amd","exports","module","require","lightbox","jQuery","this","$","Lightbox","options","album","currentImageIndex","init","extend","constructor","defaults","option","albumLabel","alwaysShowNavOnTouchDevices","fadeDuration","fitImagesInViewport","positionFromTop","resizeDuration","showImageNumberLabel","wrapAround","disableScrolling","prototype","imageCountLabel","currentImageNum","totalImages","replace","enable","build","self","on","event","start","currentTarget","appendTo","$lightbox","$overlay","$outerContainer","find","$container","containerTopPadding","parseInt","css","containerRightPadding","containerBottomPadding","containerLeftPadding","hide","end","target","attr","changeImage","length","$link","$window","window","imageNumber","proxy","sizeOverlay","visibility","addToAlbum","push","link","title","dataLightboxValue","$links","prop","i","j","top","scrollTop","left","scrollLeft","fadeIn","addClass","$image","disableKeyboardNav","preloader","Image","onload","imageHeight","imageWidth","windowHeight","windowWidth","width","height","maxImageWidth","maxImageHeight","maxWidth","maxHeight","sizeContainer","src","document","oldWidth","outerWidth","oldHeight","outerHeight","newWidth","newHeight","postResize","showImage","animate","stop","updateNav","updateDetails","preloadNeighboringImages","enableKeyboardNav","alwaysShowNav","createEvent","e","show","labelText","html","undefined","open","location","href","text","removeClass","keyboardAction","off","keycode","keyCode","key","String","fromCharCode","toLowerCase","match","fadeOut"],"mappings":"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"}